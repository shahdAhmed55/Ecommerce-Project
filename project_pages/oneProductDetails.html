<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../main_css/main.css">
    <link rel="stylesheet" href="../styles/color_and_responsive/global.css">
</head>

<body>


    <header>
        <div class="container">
            <div class="upper">
                <ul>
                    <li>
                        <a href="">About Us</a>
                    </li>
                    <li>
                        <a href="">My Account</a>
                    </li>
                    <li>
                        <a href="">Wishlist</a>
                    </li>
                    <li>
                        <p>we deliver to you every day from <span style="color: orangered;"> 7:00 to 23:00</span></p>
                    </li>
                </ul>


                <ul class="settings">
                    <li>
                        English
                    </li>
                    <li>
                        USD
                    </li>
                    <li>
                        Order Tracking
                    </li>
                </ul>
            </div>
            <div class="middle">
                <div class="left">
                    <div class="store">
                        <a style="display: flex; gap:10px; align-items:center;" href="../index.html">
                            <img src="../imgs/Header/logo.svg" alt="">
                            <h1>jinStore</h1>
                        </a>
                    </div>
                    <div class="location">
                        <img src="../imgs/Header/location.svg" alt="">
                        <span class="DeliverTo">
                            <span style="color: gray;">Deliver to</span>
                            <span>all</span>
                        </span>
                    </div>
                </div>
                <input type="text" placeholder="search">
                <ul>
                    <a href="">
                        <li>
                            <a href="./login.html">
                                <img src="../imgs/Header/profile.svg" alt="">
                            </a>
                    </a>
                    </li>
                    <li>
                        <a href="./register.html" style="color: gray;">sign in</a>
                        <a href="">account</a>

                    </li>


                    <li>
                        <a class="love" href="./favouritePage.html">
                            <img src="../imgs/Header/love.svg" alt="">
                        </a>
                        <span class="counter-love">0</span>
                    </li>
                    <li>
                        <a href="./cart.html">
                            <img src="../imgs/Header/cart.svg" alt="">
                        </a>
                    </li>

                </ul>
            </div>

            <hr style="width:100%">
            <div class="bottom">

                <ul>
                    <li>
                        <a href="../index.html">Home</a>
                    </li>
                    <li>
                        <a href="../project_pages/allProduct_page.html">Shop</a>
                    </li>
                    <li>
                        <a href="./allProduct_page.html">Fruits & Vegetables</a>
                    </li>
                    <li>
                        <a href="./allProduct_page.html">Beverages</a>
                    </li>
                    <li>
                        <a href="./blog_page.html">Blog</a>
                    </li>
                    <li>
                        <a href="./contact_page.html">Contact</a>
                    </li>
                </ul>
                <ul>
                    <li>
                        trending products
                    </li>
                    <li style="color: orangered;">
                        Almost finished
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <div class="product-page">
        <div class="container">
            <div class="product-infos">
            </div>

            <div class="details">
                <span style="margin-bottom: 15px;">Description</span>
                <p style="color:gray; margin-bottom:10px">Quisque varius diam vel metus mattis, id aliquam diam rhoncus. Proin vitae magna in dui finibus malesuada et at nulla. Morbi elit ex, viverra vitae ante vel, blandit feugiat ligula. Fusce
fermentum iaculis nibh, at sodales leo maximus a. Nullam ultricies sodales nunc, in pellentesque lorem mattis quis. Cras imperdiet est in nunc tristique lacinia. Nullam aliquam mauris eu
accumsan tincidunt. Suspendisse velit ex, aliquet vel ornare vel, dignissim a tortor.</p>

<p style="color:gray">Morbi ut sapien vitae odio accumsan gravida. Morbi vitae erat auctor, eleifend nunc a, lobortis neque. Praesent aliquam dignissim viverra. Maecenas lacus odio, feugiat eu nunc sit amet,
maximus sagittis dolor. Vivamus nisi sapien, elementum sit amet eros sit amet, ultricies cursus ipsum. Sed consequat luctus ligula. Curabitur laoreet rhoncus blandit. Aenean vel diam ut
arcu pharetra dignissim ut sed leo. Vivamus faucibus, ipsum in vestibulum vulputate, lorem orci convallis quam, sit amet consequat nulla felis pharetra lacus. Duis semper erat mauris, sed
egestas purus commodo vel.</p>
            </div>

            <div class="raleted">
                <span>Related products</span>

                <div class="related-items " style="justify-content: space-between; display:flex">

                </div>
            </div>
        </div>
        <div class="popUp hide">
    </div>

</div>

    <footer>
        <div class="container">
            <div class="up-footer">
                <div class="left">
                    <h5>Join our newsletter for £10 offs</h5>
                    <p>Register now to get latest updates on promotions &
                        coupons.Don’t worry, we not spam!</p>
                </div>
                <div class="right">
                    <div class="email-input">
                        <input type="text" placeholder="Enter your email address">
                        <button class="btn" type="submit">SEND</button>
                    </div>
                    <p>By subscribing you agree <span>to our Terms & Conditions and Privacy & Cookies Policy</span></p>
                </div>
            </div>
            <hr>
            <div class="mid-footer">
                <div class="box">
                    <h5>Do You Need Help ?</h5>
                    <span>Autoseligen syr. Nek diarask fröbomba. Nör
                        antipol kynoda nynat. Pressa fåmoska</span>

                    <div class="phone">
                        <img src="../imgs/footer-imgs/tel.png" alt="">
                        <span class="text">
                            <p>Monday-Friday: 08am-9pm</p>
                            <h5>0 800 300-353</h5>
                        </span>
                    </div>

                    <div class="email-us">
                        <img src="../imgs/footer-imgs/email.png" alt="">
                        <span class="text">
                            <p>Monday-Friday: 08am-9pm</p>
                            <h6>info@example.com</h6>
                        </span>
                    </div>
                </div>
                <div class="box">
                    <h5>Make Money with Us</h5>
                    <div class="text">
                        <span>Sell on Grogin</span>
                        <span>Sell Your Services on Grogin</span>
                        <span>Sell on Grogin Business</span>
                        <span>Sell Your Apps on Grogin</span>
                        <span>Become an Affilate</span>
                        <span>Advertise Your Products</span>
                        <span>Sell-Publish with Us</span>
                        <span>Become an Blowwe Vendor</span>
                    </div>
                </div>
                <div class="box">
                    <h5>Let Us Help You</h5>
                    <div class="text">
                        <span>Sell on Grogin</span>
                        <span>Sell Your Services on Grogin</span>
                        <span>Sell on Grogin Business</span>
                        <span>Sell Your Apps on Grogin</span>
                        <span>Become an Affilate</span>
                        <span>Refund and Returns Policy</span>
                        <span>Terms and Conditions</span>
                        <span>Shipping Rates & Policies</span>
                        <span>Cookie Settings</span>
                        <span>Help Center</span>
                    </div>
                </div>
                <div class="box">
                    <h5>Get to Know Us</h5>
                    <div class="text">
                        <span>Sell on Grogin</span>
                        <span>Sell Your Services on Grogin</span>
                        <span>Sell on Grogin Business</span>
                        <span>Sell Your Apps on Grogin</span>
                        <span>Become an Affilate</span>
                        <span>Customer reviews</span>
                        <span>Social Responsibility</span>
                        <span>Store Locations</span>
                    </div>
                </div>
                <div class="box">
                    <h5>Download our app</h5>
                    <div class="download google-play">
                        <a href="">
                            <img src="../imgs/footer-imgs/play-store.png" alt="">
                        </a>
                        <span>Download App Get
                            -10% Discount</span>
                    </div>
                    <div class="download apple-store">
                        <a href="">
                            <img src="../imgs/footer-imgs/apple-store.png" alt="">
                        </a>
                        <span>Download App Get
                            -20% Discount</span>
                    </div>

                    <span>Follow us on social media:</span>
                    <div class="icons">
                        <a href=""><img src="../imgs/footer-imgs/fb.png" alt=""></a>
                        <a href=""><img src="../imgs/footer-imgs/in.png" alt=""></a>
                        <a href=""><img src="../imgs/footer-imgs/insta.png" alt=""></a>
                        <a href=""><img src="../imgs/footer-imgs/x.png" alt=""></a>
                    </div>

                </div>
            </div>

            <hr>
            <div class="down-footer">

                <div class="left">
                    <p>Copyright 2024 <span>&copy;</span> Jinstore WooCommerce WordPress Theme. All right reserved.
                        Powered by <span>BlackRise Themes.</span></p>
                    <div class="icons">
                        <img src="../imgs/footer-imgs/visa.png" alt="">
                        <img src="../imgs/footer-imgs/paypal.png" alt="">
                        <img src="../imgs/footer-imgs/klarna.png" alt="">
                        <img src="../imgs/footer-imgs/skrill.png" alt="">
                        <img src="../imgs/footer-imgs/img.png" alt="">
                    </div>
                </div>
                <div class="right">
                    <a href="">Terms and Conditions</a>
                    <a href="">Privacy Policy</a>
                    <a href="">Order Tracking</a>
                </div>
            </div>

        </div>
    </footer>


    <script>

        let counter = document.querySelector(".counter-love");
        if (localStorage.getItem("faverArayy")) {
            counter.innerHTML = JSON.parse(localStorage.getItem("faverArayy")).length
        }
        else {
            counter.innerHTML = 0
        }

        let request = new XMLHttpRequest();
        request.open("get", "../products.json");

        request.onload = () => {
            if (request.status == 200 && request.readyState == 4) {
                let data = JSON.parse(request.responseText);
                let param = new URLSearchParams(window.location.search);
                let productId = parseInt(param.get("id"));
                let product = data.find(product => product.id == productId);
                let productcontainer = document.querySelector(".related-items");
            for(let i=0; i< 5;i++){
                    productcontainer.innerHTML += createDetailedItems(product);
                
            }
                if (product) {
                    let con = `
                  
            <div class="left">
                <div class="product-img">
                    <img src=".${product.productImg}" alt="">
                </div>
                    <div class="discount-percent">${product.discountPercent}</div>
            </div>
            <div class="right item">
                <h1>${product.productName}</h1>
                <div class="rate">
                    <img src="../imgs/Home/starts.svg" alt="">
                    <span>3.33</span>
                    |
                    <span>sku:E7f8g9h0</span>
                </div>
                <hr>
                <p>
                    Vivamus adipiscing nisl ut dolor dignissim semper. Nulla luctus malesuada tincidunt. Class aptent taciti
sociosqu ad litora torquent Vivamus adipiscing nisl ut dolor dignissim semper.
                </p>
                       <span class="discount">
                            <span class="product-price">${product.priceAfter}</span>
                            <span>${product.priceBefore}</span>
                        </span>
                        <button class="btn green">order on WhatsApp</button>

                        <div class="special-offer">
                            <p>
                             <span>Special Offer :</span>
                            <span>81</span>
                            <span>81</span>
                            <span>81</span>
                            :
                            <span>81</span>
                            Remain untill the end of the offer
                            </p>

                        </div>

                        <div class="make-dission">
                            <div class="quantity">
                                <span class="minus-product">-</span> 
                                <span class="product-num">1</span> 
                                <span class="plus-product">+</span>  
                            </div>
                            <button class="btn green add-cart-btn">Add to cart</button>
                            <button class="btn black">Buy Now</button>

                        </div>

                        <div class="payment">
                        <div class="pay">
                         <img src="../imgs/oneProduct/Payment.png" alt="">
                           <p><span style="font-weight:bold">Payment</span>. Payment upon receipt of goods, Payment by card in the department, Google Pay,
Online card, -5% discount in case of payment</p>
                        </div>
                          <div class="pay">
                         <img src="../imgs/oneProduct/Warranty.png" alt="">

                           <p><span style="font-weight:bold">Warranty</span>. The Consumer Protection Act does not provide for the return of this product of proper
quality.</p>
                        </div>
                        </div>

                           <div class="share-add-compare">
            <div class="add">
                  <span>
                 <img src="../imgs/Header/love.svg" alt="">
               </span>
                Add to Wishlist
            </div>
             <div class="share">
                  <span>
                <img src="../imgs/oneProduct/share.png" alt="">

               </span>
                Share this Product
            </div>
             <div class="compare">
               <span>
               <img src="../imgs/oneProduct/compare.png" alt="">

               </span>
                compare
            </div>
        </div>

                      
            </div>
          
<hr>            
          
          `
                    document.querySelector(".container .product-infos").innerHTML += con
                }




            }
            popUpMessage();
            numOfProductInCart();
        }

        request.send();
        let items = []

        function numOfProductInCart() {
            let minusBtn = document.querySelector(".minus-product");
            let plussBtn = document.querySelector(".plus-product");
            let numOfProduct = document.querySelector(".product-num");
            minusBtn.addEventListener("click", () => {
                numOfProduct.innerHTML--
                if (numOfProduct.innerHTML < 0) {
                    numOfProduct.innerHTML = 0;
                }
                productsPrice()

            })
            plussBtn.addEventListener("click", () => {
                numOfProduct.innerHTML++
                productsPrice()

            })


        }

        function productsPrice() {
            let numOfProduct = Number(document.querySelector(".product-num").innerHTML);
            let productPrice = (document.querySelector(".product-price").innerHTML);
            productPrice = productPrice.slice(1)
            console.log(numOfProduct)
            console.log(productPrice)
            let res = (numOfProduct * productPrice)
            saveInLs(res, numOfProduct);
            popUpMessage(res, numOfProduct);
            return res
        }

        function popUpMessage(res, numOfProduct = 1) {
            let addCartBtn = document.querySelector(".add-cart-btn")
        let popUpContainer = document.querySelector(".product-page .popUp")
        console.log(popUpContainer)

            addCartBtn.addEventListener("click", () => {
                let popup = `
    <P>You add <span style="color:red">${numOfProduct}</span> product to cart</P>
            `
            popUpContainer.classList.remove("hide")
        popUpContainer.innerHTML = popup

               
                setTimeout(() => {
                    popUpContainer.classList.add("hide")

                }, 3000)

            })
        }

        function saveInLs(res, numOfProduct) {
            let param = new URLSearchParams(window.location.search);
            let itemid = parseInt(param.get("id"));
            let item = {
                id: itemid,
                totalPrice: res,
                numOfProduct: numOfProduct,
            }
            localStorage.setItem("addProductToCart", JSON.stringify(item))
        }


        function createDetailedItems(product){
            
        let RelatedItem = 
        `
                <div class="item" id="${product.id}" date-category="${product.dateCategory}">
                        <img class="productImg" src=".${product.productImg}" alt="">
                        <div class="infos">
                            <div class="classify ${product.classify}" >
                                <img class="addToFaver" src=".${product.loveIcon}" alt="">
                            </div>
                            <span class="discount-percent">
                                ${product.discountPercent}
                            </span>
                        </div>
                        <p class="productName">${product.productName}</p>
                    <div style = "    display: flex;justify-content: space-between;align-items: center;">
                            <span class="discount">
                            <span>${product.priceAfter}</span>
                            <span>${product.priceBefore}</span>
                        </span>
                        <img class="addToCart" src=".${product.addCartIcon}" alt="">
                    </div>
                        <hr class= "${product.classHide}" style="margin-top: 10px;"">
                        <p  class="run-out ${product.classHide}">This product is about to run out</p>
                        <hr class= "second ${product.classHide}">
                        <span class="available ${product.classHide}">available only: <span>${product.available}</span></span>
                </div>
        `

        return RelatedItem;

        }




    </script>
</body>

</html>