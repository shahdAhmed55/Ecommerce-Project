<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../main_css/main.css">
    <link rel="stylesheet" href="../styles/color_and_responsive/global.css">
    <title>Document</title>
</head>
<style>
    .favourite-page {
        padding: 30px 0;
    }

    .favourite-page .container {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
    }

    .item {
        display: flex;
        width: 50%;
        align-items: center;
        justify-content: center;
    }

    .item .productImg {
        width: 40%;
    }

    .item .itemInfo {
        width: 50%;
    }
    .item .infos .classify {
   padding:0px;

}

    @media (max-width:992px) {
        .item {
            width: 100%;
        }
    }

    .favourite-page .noItems {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 20px;
        height: 65vh;
        width: 100vw;
    }

    .favourite-page .noItems p {
        border: 1px gray solid;
        padding: 10px;
        border-radius: 20px;
    }

    .btn:nth-child(1) {
        background-color: black;
    }
</style>

<body>
    <header>
        <div class="container">
            <div class="upper">
                <ul>
                    <li>
                        <a href="">About Us</a>
                    </li>
                    <li>
                        <a href="">My Account</a>
                    </li>
                    <li>
                        <a href="">Wishlist</a>
                    </li>
                    <li>
                        <p>we deliver to you every day from <span style="color: orangered;"> 7:00 to 23:00</span></p>
                    </li>
                </ul>


                <ul class="settings">
                    <li>
                        English
                    </li>
                    <li>
                        USD
                    </li>
                    <li>
                        Order Tracking
                    </li>
                </ul>
            </div>
            <div class="middle">
                <div class="left">
                    <div class="store">
                        <a style="display: flex; gap:10px; align-items:center;" href="../index.html">
                            <img src="../imgs/Header/logo.svg" alt="">
                            <h1>jinStore</h1>
                        </a>
                    </div>
                    <div class="location">
                        <img src="../imgs/Header/location.svg" alt="">
                        <span class="DeliverTo">
                            <span style="color: gray;">Deliver to</span>
                            <span>all</span>
                        </span>
                    </div>
                </div>
                <input type="text" placeholder="search">
                <ul>
                    <a href="">
                        <li>
                            <a href="./login.html">
                                <img src="../imgs/Header/profile.svg" alt="">
                            </a>
                    </a>
                    </li>
                    <li>
                        <a href="./register.html" style="color: gray;">sign in</a>
                        <a href="">account</a>

                    </li>

        
                    <li>
                        <a class="love" href="./favouritePage.html">
                            <img src="../imgs/Header/love.svg" alt="">
                        </a>
                        <span class="counter-love">0</span>
                    </li>
                    <li>
                        <a href="">
                            <img src="../imgs/Header/cart.svg" alt="">
                        </a>
                    </li>

                </ul>
            </div>

            <hr style="width:100%">
            <div class="bottom">

                <ul>
                    <li>
                        <a href="../index.html">Home</a>
                    </li>
                    <li>
                        <a href="./allProduct_page.html">Shop</a>
                    </li>
                    <li>
                        <a href="./allProduct_page.html">Fruits & Vegetables</a>
                    </li>
                    <li>
                        <a href="./allProduct_page.html">Beverages</a>
                    </li>
                    <li>
                        <a href="">Blog</a>
                    </li>
                    <li>
                        <a href="./contact_page.html">Contact</a>
                    </li>
                </ul>
                <ul>
                    <li>
                        trending products
                    </li>
                    <li style="color: orangered;">
                        Almost finished
                    </li>
                </ul>
            </div>
        </div>
    </header>
    <div class="favourite-page">
        <div class="container">
        </div>
    </div>


                <footer>
        <div class="container">
            <div class="up-footer">
                <div class="left">
                    <h5>Join our newsletter for £10 offs</h5>
                    <p>Register now to get latest updates on promotions &
                        coupons.Don’t worry, we not spam!</p>
                </div>
                <div class="right">
                    <div class="email-input">
                        <input type="text" placeholder="Enter your email address">
                        <button class="btn" type="submit">SEND</button>
                    </div>
                    <p>By subscribing you agree <span>to our Terms & Conditions and Privacy & Cookies Policy</span></p>
                </div>
            </div>
            <hr>
            <div class="mid-footer">
                <div class="box">
                    <h5>Do You Need Help ?</h5>
                    <span>Autoseligen syr. Nek diarask fröbomba. Nör
                        antipol kynoda nynat. Pressa fåmoska</span>

                    <div class="phone">
                        <img src="../imgs/footer-imgs/tel.png" alt="">
                        <span class="text">
                            <p>Monday-Friday: 08am-9pm</p>
                            <h5>0 800 300-353</h5>
                        </span>
                    </div>

                    <div class="email-us">
                        <img src="../imgs/footer-imgs/email.png" alt="">
                        <span class="text">
                            <p>Monday-Friday: 08am-9pm</p>
                            <h6>info@example.com</h6>
                        </span>
                    </div>
                </div>
                <div class="box">
                    <h5>Make Money with Us</h5>
                    <div class="text">
                        <span>Sell on Grogin</span>
                        <span>Sell Your Services on Grogin</span>
                        <span>Sell on Grogin Business</span>
                        <span>Sell Your Apps on Grogin</span>
                        <span>Become an Affilate</span>
                        <span>Advertise Your Products</span>
                        <span>Sell-Publish with Us</span>
                        <span>Become an Blowwe Vendor</span>
                    </div>
                </div>
                <div class="box">
                    <h5>Let Us Help You</h5>
                    <div class="text">
                        <span>Sell on Grogin</span>
                        <span>Sell Your Services on Grogin</span>
                        <span>Sell on Grogin Business</span>
                        <span>Sell Your Apps on Grogin</span>
                        <span>Become an Affilate</span>
                        <span>Refund and Returns Policy</span>
                        <span>Terms and Conditions</span>
                        <span>Shipping Rates & Policies</span>
                        <span>Cookie Settings</span>
                        <span>Help Center</span>
                    </div>
                </div>
                <div class="box">
                    <h5>Get to Know Us</h5>
                    <div class="text">
                        <span>Sell on Grogin</span>
                        <span>Sell Your Services on Grogin</span>
                        <span>Sell on Grogin Business</span>
                        <span>Sell Your Apps on Grogin</span>
                        <span>Become an Affilate</span>
                        <span>Customer reviews</span>
                        <span>Social Responsibility</span>
                        <span>Store Locations</span>
                    </div>
                </div>
                <div class="box">
                    <h5>Download our app</h5>
                    <div class="download google-play">
                        <a href="">
                            <img src="../imgs/footer-imgs/play-store.png" alt="">
                        </a>
                        <span>Download App Get
                            -10% Discount</span>
                    </div>
                    <div class="download apple-store">
                        <a href="">
                            <img src="../imgs/footer-imgs/apple-store.png" alt="">
                        </a>
                        <span>Download App Get
                            -20% Discount</span>
                    </div>

                    <span>Follow us on social media:</span>
                    <div class="icons">
                        <a href=""><img src="../imgs/footer-imgs/fb.png" alt=""></a>
                        <a href=""><img src="../imgs/footer-imgs/in.png" alt=""></a>
                        <a href=""><img src="../imgs/footer-imgs/insta.png" alt=""></a>
                        <a href=""><img src="../imgs/footer-imgs/x.png" alt=""></a>
                    </div>

                </div>
            </div>

            <hr>
            <div class="down-footer">

                <div class="left">
                    <p>Copyright 2024 <span>&copy;</span> Jinstore WooCommerce WordPress Theme. All right reserved.
                        Powered by <span>BlackRise Themes.</span></p>
                    <div class="icons">
                        <img src="../imgs/footer-imgs/visa.png" alt="">
                        <img src="../imgs/footer-imgs/paypal.png" alt="">
                        <img src="../imgs/footer-imgs/klarna.png" alt="">
                        <img src="../imgs/footer-imgs/skrill.png" alt="">
                        <img src="../imgs/footer-imgs/img.png" alt="">
                    </div>
                </div>
                <div class="right">
                    <a href="">Terms and Conditions</a>
                    <a href="">Privacy Policy</a>
                    <a href="">Order Tracking</a>
                </div>
            </div>

        </div>
    </footer>
    <script>
        let counter = document.querySelector(".counter-love");
        console.log(counter)
        let array = JSON.parse(localStorage.getItem("faverArayy"));
        if(array){
            counter.innerHTML = array.length
        }else{
            counter.innerHTML = 0
        }
       
        noItems(array);
        let request = new XMLHttpRequest();
        request.open("get", "../products.json");
        request.onload = () => {
            if (request.status == 200 && request.readyState == 4 && array) {
                let data = JSON.parse(request.responseText);
                console.log(data);
                console.log(array)
                array = JSON.parse(localStorage.getItem("faverArayy"));
                for (let i = 0; i < array.length; i++) {
                    for (product of data) {
                        if (product.id == array[i]) {
                            let content =
                                `
                         <div class="item" id="${product.id}">
                        <img class="productImg" src=".${product.productImg}" alt="">
                        <div class="itemInfo">
                            <div class="infos">
                            <div class="classify ${product.classify}" >
                                <img class="removeFromFaver" src=".${product.loveIcon}" alt="">
                                
                              <span class="${product.classify}">${product.classify}</span>
                            </div>
                            <span class="discount-percent">
                               ${product.discountPercent}
                            </span>
                        </div>
                        <p class="productName">${product.productName}</p>

                        <span class="discount">
                            <span>${product.priceAfter}</span>
                            <span>${product.priceBefore}</span>
                        </span>
                        </div>                        
                    </div>
                    `
                            document.querySelector(".favourite-page .container").innerHTML += content;
                        }
                    }
                }
            }
            let items = document.querySelectorAll(".item")
            removeFromLove(items);
        }
        request.send();
        function removeFromLove(items) {
            let faverBtns = document.querySelectorAll(".removeFromFaver");
            faverBtns.forEach(fb => {
                fb.addEventListener("click", () => {
                    fb.style.backgroundColor = "red";
                    let itemID = (fb.parentElement.parentElement.parentElement.parentElement.getAttribute("id"));
                    let itemRemove = (fb.parentElement.parentElement.parentElement.parentElement);
                    array = array.filter(e => e != itemID);
                    localStorage.setItem("faverArayy", JSON.stringify(array));
                    itemRemove.remove();
                    counter.innerHTML--;
                    noItems(array);
                })

            })

        }

        function noItems(array) {
            if (!array|| array.length === 0) {
                document.querySelector(".favourite-page .container").innerHTML = `
                    <div class="noItems">
            <img src="../imgs/noItem.png" alt="">
            <p>There is no Items in Favourite</p>
            <a href="../index.html">
                <button class="btn">Back To Home</button>
            </a>

        </div>
            `
            }
        }
    </script>
</body>

</html>